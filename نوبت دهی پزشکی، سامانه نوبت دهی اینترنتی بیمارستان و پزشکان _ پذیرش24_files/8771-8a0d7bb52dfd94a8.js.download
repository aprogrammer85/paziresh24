"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8771],{13650:function(e,t,i){i.d(t,{Z:function(){return u}});var n=i(5311);i(66840);var r=i(70413),l=i(73042),o=i(27597),a=i(23651),s=i(26103),d=i(82107),c=i(50830);function u(e){let{children:t,authGlobalContextProps:i,fragmentProps:u,growthbookGlobalContextProps:v,antdConfigProviderProps:p,splunkProps:m,pwaProps:f,embedCssProps:h}=e;return(0,n.jsx)(r.y,{...i,previewToken:i&&"previewToken"in i?i.previewToken:void 0,children:(0,n.jsx)(l.H,{...u,apiConfig:u&&"apiConfig"in u?u.apiConfig:void 0,previewApiConfig:u&&"previewApiConfig"in u?u.previewApiConfig:void 0,children:(0,n.jsx)(o.r,{...v,apiHost:v&&"apiHost"in v?v.apiHost:"https://growthbook-api.paziresh24.com",clientKey:v&&"clientKey"in v?v.clientKey:"sdk-St1dBftdp07geqtD",previewAttributes:v&&"previewAttributes"in v?v.previewAttributes:void 0,children:(0,n.jsx)(a.zy,{...p,borderRadius:p&&"borderRadius"in p?p.borderRadius:6,colorBgBase:p&&"colorBgBase"in p?p.colorBgBase:"#ffffff",colorError:p&&"colorError"in p?p.colorError:"#ff4d4f",colorInfo:p&&"colorInfo"in p?p.colorInfo:"#1677ff",colorPrimary:p&&"colorPrimary"in p?p.colorPrimary:"#1677ff",colorSuccess:p&&"colorSuccess"in p?p.colorSuccess:"#52c41a",colorWarning:p&&"colorWarning"in p?p.colorWarning:"#faad14",controlHeight:p&&"controlHeight"in p?p.controlHeight:32,defaultDark:!!p&&"defaultDark"in p&&p.defaultDark,lineWidth:p&&"lineWidth"in p?p.lineWidth:1,loadingText:p&&"loadingText"in p?p.loadingText:void 0,removeLoading:!p||!("removeLoading"in p)||p.removeLoading,sizeStep:p&&"sizeStep"in p?p.sizeStep:4,sizeUnit:p&&"sizeUnit"in p?p.sizeUnit:4,themeStyles:p&&"themeStyles"in p?p.themeStyles:{fontFamily:"initial",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#2B2F33",letterSpacing:"normal"},wireframe:!!p&&"wireframe"in p&&p.wireframe,children:(0,n.jsx)(s.K,{...m,defaultApiHost:m&&"defaultApiHost"in m?m.defaultApiHost:"https://rokhdad-splunk-hec.paziresh24.com",defaultApiKey:m&&"defaultApiKey"in m?m.defaultApiKey:"1e490c2c-d98b-4777-816d-cf7f09b21888",children:(0,n.jsx)(d.P,{...f,children:(0,n.jsx)(c.$Q,{...h,css:h&&"css"in h?h.css:"/* CSS snippet */\n\n.suggestion_content em{\n  color:#00acac;\n  font-style: normal;\n}\n.seo_box_content h1, h2, h3{\n  font-weight: 600;\n  font-size: 16px;\n}\n.default-styles span {\n  font-size: 0.875rem !important;\n}\n.locations-container .PlasmicTextInput_root__fvrci:focus{\n  box-shadow: none !important;\n  border-color: #3861FB !important;\n}\n.pl__z-50{\n  z-index: 99 !important;\n}",children:t})})})})})})})}},34484:function(e,t,i){i.d(t,{m:function(){return d}});var n=i(53190),r=i(41712),l=e=>{let t=e.split(".");return t.length>2?(t.shift(),t.join(".")):e},o=i(68235),a=i(46175),s=i(27341);let d=async()=>{var e,t;if((0,o.hasCookie)("terminal_id"))return Promise.resolve((0,o.getCookie)("terminal_id"));let i=await s.zR.post("/api/setTerminal",(0,r.Z)({terminal_id:null!==(t=(0,o.getCookie)("terminal_id"))&&void 0!==t?t:(0,a.Z)(),details:window.navigator.userAgent,ip:"0.0.0.0",type:"web",version:"1"}));if((0,o.hasCookie)("terminal_id"))return Promise.resolve((0,o.getCookie)("terminal_id"));let d=null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.id;return(0,o.setCookie)("terminal_id",d,{maxAge:(0,n.F)(60),path:"/",domain:l(window.location.hostname)}),Promise.resolve(d)}},19112:function(e,t,i){i.d(t,{F:function(){return c}});var n=i(27341),r=i(29839),l=i(41712),o=i(68235),a=i(33434),s=i(34484);let d=e=>{let{table:t}=e;return(0,s.m)(),n.zR.post("/api/getbaseinfo",(0,l.Z)({table:"[".concat(null==t?void 0:t.map(e=>'"'.concat(e,'"')),"]"),terminal_id:(0,o.getCookie)("terminal_id")}))},c=(e,t)=>(0,a.a)([r.q.BaseInfo,e],()=>d(e),t)},13042:function(e,t,i){i.d(t,{R:function(){return s},y:function(){return a}});var n=i(27341),r=i(29839),l=i(57395),o=i(33434);let a=async e=>{let{route:t,query:i,headers:r}=e,{data:l}=await n.Jw.get("/seapi/v1/search/".concat(encodeURI(t)),{params:{...i},headers:r});return l},s=(e,t)=>{let{route:i,query:n}=e,s=(0,l.Z)(e=>{var t;return null===(t=e.customize)||void 0===t?void 0:t.partnerKey}),d={route:i,query:{...n,...s&&{university:s}}};return(0,o.a)([r.q.Search,d],()=>a(d),{keepPreviousData:!0,refetchOnMount:!1,...t})}},32138:function(e,t,i){i.d(t,{y:function(){return s}});var n=i(27341),r=i(29839),l=i(57395),o=i(33434);let a=async e=>{let{query:t,withoutUniversity:i,...r}=e,{data:l}=await n.Jw.get("/seapi/v1/suggestion",{params:{q:t,...r}});return l},s=(e,t)=>{let i=(0,l.Z)(e=>{var t;return null===(t=e.customize)||void 0===t?void 0:t.partnerKey});return e={...e,...i&&!e.withoutUniversity&&{university:i}},(0,o.a)([r.q.SearchSuggestion,e],()=>a(e),t)}},55227:function(e,t,i){i.d(t,{Z:function(){return n.Z}});var n=i(54370)},54370:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(5311),r=i(13194),l=i(66840),o=i(26946);let a=(0,l.memo)(e=>{let{...t}=e;return(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.53023 2.4697C3.23734 2.17681 2.76247 2.17681 2.46957 2.4697C2.17668 2.76259 2.17668 3.23747 2.46957 3.53036L5.13723 6.19801C3.91106 7.01861 2.99173 8.00411 2.35714 8.96369C1.64412 10.0419 1.25 11.1513 1.25 12C1.25 12.6616 1.48923 13.4704 1.91294 14.284C2.34365 15.1109 2.99041 15.9926 3.86629 16.8011C5.62703 18.4264 8.30768 19.75 12 19.75C14.1796 19.75 16.0109 19.2887 17.5107 18.5715L20.4696 21.5304C20.7625 21.8233 21.2373 21.8233 21.5302 21.5304C21.8231 21.2375 21.8231 20.7626 21.5302 20.4697L3.53023 2.4697ZM16.3748 17.4356L14.0679 15.1287C13.4751 15.5211 12.7637 15.75 11.9999 15.75C9.92883 15.75 8.2499 14.0711 8.2499 12C8.2499 11.2363 8.47885 10.5248 8.87127 9.93206L6.22202 7.2828C5.0408 8.01882 4.17938 8.92754 3.60829 9.7911C2.98821 10.7287 2.75 11.5502 2.75 12C2.75 12.3384 2.88577 12.9046 3.24331 13.5911C3.59385 14.2641 4.13459 15.0074 4.88371 15.6989C6.37297 17.0736 8.69232 18.25 12 18.25C13.7211 18.25 15.1715 17.9315 16.3748 17.4356ZM9.96904 11.0298C9.82845 11.3235 9.7499 11.6522 9.7499 12C9.7499 13.2427 10.7573 14.25 11.9999 14.25C12.3477 14.25 12.6765 14.1715 12.9701 14.0309L9.96904 11.0298ZM12 5.75001C10.9594 5.75001 10.0189 5.86643 9.17331 6.06728C8.7703 6.16299 8.36601 5.91388 8.2703 5.51088C8.17458 5.10788 8.42369 4.70359 8.82669 4.60787C9.78973 4.37915 10.8467 4.25001 12 4.25001C15.6923 4.25001 18.373 5.5736 20.1337 7.1989C21.0096 8.00741 21.6564 8.88909 22.0871 9.71606C22.5108 10.5296 22.75 11.3384 22.75 12C22.75 13.2108 21.9456 15.0051 20.4152 16.5311C20.1218 16.8236 19.647 16.8229 19.3545 16.5296C19.062 16.2362 19.0627 15.7614 19.3561 15.4689C20.7151 14.1139 21.25 12.6791 21.25 12C21.25 11.6616 21.1142 11.0954 20.7567 10.409C20.4061 9.73592 19.8654 8.9926 19.1163 8.30111C17.627 6.92641 15.3077 5.75001 12 5.75001Z",fill:"currentColor"})})});var s=i(6584);let d={small:"p-3 h-10 text-sm",medium:"p-4 h-12 text-sm",large:"p-5 h-14 text-md"};var c=(0,l.forwardRef)((e,t)=>{let{label:i,className:c,classNameWrapper:u,size:v="medium",multiLine:p=!1,helperText:m,error:f=!1,...h}=e,[C,g]=(0,l.useState)("password"===h.type);return(0,n.jsxs)("div",{className:(0,r.Z)("flex flex-col space-y-2 w-full border-slate-300 outline-primary",{"text-red-600 border-red-200 !outline-red-200 ":f},u),children:[i&&(0,n.jsx)(s.Z,{fontSize:"sm",fontWeight:"medium",className:"text-black",children:i}),(0,n.jsxs)("div",{className:"relative w-full border-inherit outline-inherit",children:[(0,n.jsx)(p?"textarea":"input",{ref:t,autoComplete:"off",className:(0,r.Z)("rounded-lg border border-solid border-inherit outline-inherit w-full transition-all",d[v],c,{"pl-11":"password"===h.type}),...h,type:"password"===h.type?C?"password":"text":h.type}),"password"===h.type&&(C?(0,n.jsx)(o.Z,{onClick:()=>{g(!1)},className:"absolute left-4 top-[.9rem] w-5 h-5"}):(0,n.jsx)(a,{onClick:()=>{g(!0)},className:"absolute left-4 top-[.9rem] w-5 h-5"}))]}),m&&(0,n.jsx)("span",{className:"text-xs",children:m})]})})},43545:function(e,t,i){var n=i(5311);let r=(0,i(66840).memo)(e=>{let{...t}=e;return(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4697 5.46967C12.7626 5.17678 13.2374 5.17678 13.5303 5.46967L19.5303 11.4697C19.8232 11.7626 19.8232 12.2374 19.5303 12.5303L13.5303 18.5303C13.2374 18.8232 12.7626 18.8232 12.4697 18.5303C12.1768 18.2374 12.1768 17.7626 12.4697 17.4697L17.1893 12.75H5C4.58579 12.75 4.25 12.4142 4.25 12C4.25 11.5858 4.58579 11.25 5 11.25H17.1893L12.4697 6.53033C12.1768 6.23744 12.1768 5.76256 12.4697 5.46967Z",fill:"currentColor"})})});t.Z=r},88482:function(e,t,i){var n=i(5311);let r=(0,i(66840).memo)(e=>{let{...t}=e;return(0,n.jsx)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75586 7.71239C3.75586 5.8741 4.42571 4.55281 5.38422 3.68502C6.3555 2.80567 7.66943 2.35125 9.00586 2.35126C10.3423 2.35126 11.6562 2.80568 12.6275 3.68504C13.586 4.55283 14.2559 5.87412 14.2559 7.71239C14.2559 10.0175 12.9143 12.0608 11.463 13.5839C10.7471 14.3351 10.0289 14.9339 9.48918 15.3448C9.30381 15.486 9.14025 15.6044 9.00602 15.6986C8.87178 15.6043 8.7082 15.4859 8.52281 15.3448C7.98305 14.9339 7.26479 14.3351 6.54889 13.5839C5.09747 12.0608 3.75586 10.0175 3.75586 7.71239ZM8.61163 17.2392C8.61187 17.2394 8.61209 17.2395 9.00603 16.6013L8.61209 17.2395L9.00604 17.4827L9.39999 17.2395L9.00603 16.6013C9.39999 17.2395 9.40021 17.2393 9.40045 17.2392L9.40105 17.2388L9.40265 17.2378L9.40749 17.2348L9.42358 17.2247C9.43711 17.2162 9.45618 17.204 9.48043 17.1884C9.52891 17.157 9.59814 17.1116 9.68516 17.0525C9.8591 16.9344 10.1046 16.7615 10.3978 16.5383C10.9831 16.0927 11.7648 15.4415 12.5489 14.6187C14.0975 12.9936 15.7559 10.5924 15.7559 7.71239C15.7559 5.47659 14.9257 3.74232 13.6342 2.57306C12.3555 1.41537 10.6694 0.851261 9.00586 0.851257C7.34229 0.851253 5.65621 1.41535 4.37749 2.57304C3.086 3.7423 2.25586 5.47658 2.25586 7.71239C2.25586 10.5925 3.91434 12.9936 5.463 14.6187C6.24714 15.4415 7.02892 16.0927 7.6142 16.5383C7.90745 16.7616 8.15295 16.9344 8.3269 17.0525C8.41392 17.1116 8.48316 17.1571 8.53164 17.1884C8.55589 17.204 8.57497 17.2162 8.58849 17.2247L8.60458 17.2348L8.60942 17.2378L8.61103 17.2388L8.61163 17.2392ZM7.50586 7.60128C7.50586 6.77285 8.17743 6.10128 9.00586 6.10128C9.83429 6.10128 10.5059 6.77285 10.5059 7.60128C10.5059 8.42971 9.83429 9.10128 9.00586 9.10128C8.17743 9.10128 7.50586 8.42971 7.50586 7.60128ZM9.00586 4.60128C7.349 4.60128 6.00586 5.94443 6.00586 7.60128C6.00586 9.25813 7.349 10.6013 9.00586 10.6013C10.6627 10.6013 12.0059 9.25813 12.0059 7.60128C12.0059 5.94443 10.6627 4.60128 9.00586 4.60128Z",fill:"currentColor"})})});t.Z=r},50149:function(e,t,i){i.d(t,{k:function(){return n}});let n=e=>{var t;let{action:i,category:n,label:r}=e;return null!==(t=window.ga)&&void 0!==t&&!!t&&(window.ga("create","UA-74836147-1","auto"),window.ga("send","event",i,n,r),!0)}},52869:function(e,t,i){i.d(t,{v:function(){return n}});let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null==e?void 0:e.replace(/(<([^>]+)>)/gi,"")}},31981:function(e,t,i){var n=i(50149),r=i(39493),l=i(52869),o=i(68235);t.Z={itemClick:e=>{let{userSearchValue:t,index:i,cityName:a,item:s}=e,{name:d,title:c}=s;(0,n.k)({action:"Search Suggestion",category:"Search Suggestion Click Result",label:"Search Suggestion ".concat(s.formatted_title)}),(0,r.d)("search").sendEvent({group:"suggestion_events",type:"record_click",event:{data:{item:{...s,title:(0,l.v)(c)},searched_text:t||d,city:a,current_url:window.location.href,position:i+1,terminal_id:(0,o.getCookie)("terminal_id")}}})},view:e=>{let{cityName:t,userSearchValue:i,item:n}=e;(0,r.d)("search").sendEvent({group:"suggestion_events",type:"suggestion_view",event:{data:{result_count:n.map(e=>e.items).flat().length,city:t,searched_text:i,current_url:window.location.href,terminal_id:(0,o.getCookie)("terminal_id")}}})},open:e=>{let{cityName:t}=e;(0,r.d)("search").sendEvent({group:"suggestion_events",type:"suggestion_open",event:{data:{city:t,current_url:window.location.href,terminal_id:(0,o.getCookie)("terminal_id")}}})}}},29337:function(e,t,i){i.d(t,{R:function(){return s}});var n=i(19112),r=i(13042),l=i(61876),o=i(66840),a=i(40630);let s=()=>{var e,t,i;let{query:{params:s,...d},asPath:c}=(0,l.useRouter)(),u=(0,a.R)(e=>e.geoLocation),v=(0,n.F)({table:["city","province"]}),p=(0,r.R)({route:null!==(e=null==s?void 0:s.join("/"))&&void 0!==e?e:"",query:{...d,...u&&{...u}}}),{search:m={result:[],is_landing:!1,pagination:{limit:20,page:1},total:0,query_id:""},filters:f=[],categories:h=[],order_items:C={},selected_filters:g={},seo_info:x,footers:y}=(0,o.useMemo)(()=>{var e;return null!==(e=p.data)&&void 0!==e?e:{}},[p.data]),[w,b]=(0,o.useState)(null!==(t=null==m?void 0:m.result)&&void 0!==t?t:[]),[j,_]=(0,o.useState)(p.isLoading);(0,o.useEffect)(()=>{_(!0),d.page||b([])},[c]),(0,o.useEffect)(()=>{if(p.isSuccess){var e;if(_(!1),(null==m?void 0:m.result.length)===0)return b([]);(null==m?void 0:null===(e=m.pagination)||void 0===e?void 0:e.page)>1?b(e=>[...e,...m.result]):b([...m.result])}},[m]);let Z=(0,o.useMemo)(()=>j?(null==s?void 0:s.length)===1&&void 0===d.text:m.is_landing,[s,d,m.is_landing,j]),k=(0,o.useMemo)(()=>null==h?void 0:h.find(e=>e.value===(null==g?void 0:g.category)),[g]),S=(0,o.useMemo)(()=>{var e,t;return null!==(t=null==k?void 0:null===(e=k.sub_categories)||void 0===e?void 0:e.find(e=>{var t;return e.value==="exp-".concat(null==g?void 0:null===(t=g.sub_category)||void 0===t?void 0:t.replace("exp-",""))}))&&void 0!==t?t:void 0},[g]),L=(0,o.useMemo)(()=>{var e,t,i,n;return null===(n=v.data)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:null===(t=i.result)||void 0===t?void 0:null===(e=t.city)||void 0===e?void 0:e.find(e=>e.en_slug===g.city)},[v.data,g.city]),N=(0,o.useMemo)(()=>"consult"===d.turn_type,[d.turn_type]);return{isLanding:Z,isLoading:j,result:w,isSuccess:p.isSuccess,total:null==m?void 0:m.total,pagination:null==m?void 0:m.pagination,filters:f,categories:h,selectedFilters:g,orderItems:C,footers:y,seoInfo:x,selectedCategory:k,selectedSubCategory:S,searchCity:L,isConsult:N,search:m,responseData:null!==(i=null==p?void 0:p.data)&&void 0!==i?i:{}}}},40020:function(e,t,i){i.d(t,{y:function(){return s}});var n=i(32388),r=i.n(n),l=i(62628),o=i.n(l),a=i(61876);let s=()=>{let{query:{params:e,...t},...i}=(0,a.useRouter)();return{changeRoute:n=>{var l,a,s;let{params:d,query:c,overWrite:u=!1,previousQueries:v=!0,scroll:p=!0,pageParam:m=!1,replace:f=!1}=n,h=[u?null==d?void 0:d.city:null!==(l=null==d?void 0:d.city)&&void 0!==l?l:null==e?void 0:e[0],u?null==d?void 0:d.category:null!==(s=null!==(a=null==d?void 0:d.category)&&void 0!==a?a:null==e?void 0:e[1])&&void 0!==s?s:""].filter(e=>e).join("/");i[f?"replace":"push"]({pathname:"/s/".concat(h),query:o()({...!u&&v&&{...r()(t,m?"":"page")},...c},e=>{if(!e)return!0})},void 0,{shallow:!0,scroll:p})}}}},48771:function(e,t,i){i.r(t),i.d(t,{Suggestion:function(){return T},default:function(){return U}});var n=i(5311),r=i(32138),l=i(33531),o=i(26492),a=i(74797),s=i(68235),d=i(75309),c=i.n(d),u=i(96954),v=i.n(u),p=i(61876),m=i(66840),f=i(41996),h=i(34121),C=i(58416),g=i(57395),x=i(13194),y=i(13714),w=i(40630),b=i(19112),j=i(74210),_=i(7145),Z=i(6584),k=i(55227),S=i(97636);let L=(0,m.memo)(e=>{let{...t}=e;return(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.9876 4.68657C18.5308 4.7978 17.8961 5.04966 16.9464 5.42954L7.52597 9.19772C6.23256 9.71509 5.33315 10.0765 4.75714 10.3952C4.52507 10.5237 4.38605 10.624 4.30666 10.6965C4.39793 10.7534 4.55289 10.8267 4.80447 10.9107C5.4289 11.1193 6.37908 11.3108 7.74507 11.584L8.53293 11.7416L8.57141 11.7493C9.17239 11.8695 9.68152 11.9713 10.091 12.1005C10.5267 12.238 10.9159 12.4254 11.2456 12.7551C11.5753 13.0849 11.7627 13.474 11.9002 13.9097C12.0295 14.3192 12.1313 14.8284 12.2515 15.4294L12.2592 15.4678L12.4167 16.2557C12.6899 17.6217 12.8815 18.5719 13.09 19.1963C13.1741 19.4479 13.2474 19.6028 13.3043 19.6941C13.3768 19.6147 13.4771 19.4757 13.6056 19.2436C13.9243 18.6676 14.2857 17.7682 14.8031 16.4748L18.5712 7.05437C18.9511 6.10468 19.203 5.46996 19.3142 5.01318C19.3652 4.80352 19.372 4.68888 19.3689 4.63183C19.3119 4.62877 19.1972 4.63551 18.9876 4.68657ZM19.4175 4.6407C19.417 4.64118 19.4125 4.64016 19.4054 4.63622C19.4145 4.63824 19.4181 4.64022 19.4175 4.6407ZM19.3645 4.59535C19.3606 4.58832 19.3596 4.58376 19.3601 4.58323C19.3605 4.58271 19.3625 4.58623 19.3645 4.59535ZM18.6327 3.22915C19.1949 3.09225 19.9098 3.02435 20.4431 3.55764C20.9764 4.09093 20.9085 4.80583 20.7716 5.36807C20.6319 5.94167 20.3378 6.67681 19.9868 7.55431L19.9639 7.61146L16.1958 17.0319L16.1734 17.0877C15.6836 18.3125 15.2881 19.3012 14.918 19.97C14.7301 20.3095 14.516 20.629 14.2533 20.8626C13.9708 21.1138 13.6024 21.2884 13.1616 21.248C12.7208 21.2075 12.3904 20.9687 12.1583 20.6702C11.9425 20.3928 11.7902 20.0396 11.6673 19.6715C11.4251 18.9465 11.2163 17.9023 10.9576 16.6088L10.9459 16.5499L10.7883 15.762C10.6583 15.1123 10.5716 14.6838 10.4698 14.3612C10.3735 14.0561 10.2834 13.9143 10.1849 13.8158C10.0865 13.7174 9.94467 13.6273 9.63958 13.531C9.317 13.4292 8.88851 13.3424 8.23876 13.2125L7.4509 13.0549L7.39199 13.0431C6.09847 12.7845 5.0543 12.5756 4.32928 12.3335C3.96117 12.2105 3.60801 12.0583 3.33056 11.8425C3.03211 11.6104 2.79327 11.2799 2.75281 10.8392C2.71234 10.3984 2.88701 10.03 3.1382 9.74744C3.37173 9.48476 3.69125 9.27073 4.03082 9.0828C4.69962 8.71267 5.68829 8.31722 6.91307 7.82733L6.96889 7.80501L16.3893 4.03683L16.4465 4.01395C17.324 3.66291 18.0591 3.36883 18.6327 3.22915Z",fill:"currentColor"})})});var N=i(88482),R=i(72549),z=i(99265),B=i(70858),I=e=>{let{city:t,onChange:i}=e,{handleOpen:r,handleClose:l,modalProps:o}=(0,z.Z)(),a=(0,g.Z)(e=>e.customize),s=(0,w.R)(e=>e.geoLocation),d=(0,m.useRef)(null),c=(0,b.F)({table:["city","province"]}),[u,v]=(0,m.useState)(""),[p,f]=(0,m.useState)("provinces"),h=(0,m.useRef)([]),C=(0,m.useRef)([]),y=(0,B.cC)("search:around-me-button|enabled"),[I,M]=(0,m.useState)([]);(0,m.useEffect)(()=>{if(c.isSuccess){var e,t;h.current=a.provinceId?null===(e=c.data.data.result.province)||void 0===e?void 0:e.filter(e=>e.id===a.provinceId):c.data.data.result.province,C.current=a.provinceId?null===(t=c.data.data.result.city)||void 0===t?void 0:t.filter(e=>e.province_id===a.provinceId):c.data.data.result.city,M(h.current.map(e=>({...e,isProvince:!0}))),a.provinceId&&E(a.provinceId)}},[c.status,o.isOpen,a.provinceId]);let q=()=>{d.current&&(d.current.scrollTop=0)},E=e=>{f("cities"),v(""),q(),M(C.current.filter(t=>t.province_id===e).map(e=>({...e,isProvince:!1})))},P=(e,t)=>{var n,r,o,a;i({...C.current.find(t=>t.id===e),id:e,name:null!==(o=null===(n=C.current.find(t=>t.id===e))||void 0===n?void 0:n.name)&&void 0!==o?o:"همه شهرها",en_slug:null!==(a=null===(r=C.current.find(t=>t.id===e))||void 0===r?void 0:r.en_slug)&&void 0!==a?a:"ir",is_aroundme:t}),l()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{variant:"text",icon:s?(0,n.jsx)(L,{className:"w-6 h-6 stroke-2 min-w-[1.25rem]"}):(0,n.jsx)(N.Z,{className:"w-5 h-5 stroke-2 fill-slate-700 min-w-[1.25rem]"}),onClick:r,className:(0,x.Z)("!text-slate-700 !px-3 !pr-1 whitespace-nowrap rounded-3xl rounded-tr-lg rounded-br-lg",{"!text-primary":s}),children:(0,n.jsx)(Z.Z,{fontSize:"sm",children:s?"اطراف من":null==t?void 0:t.name})}),(0,n.jsx)(_.Z,{fullScreen:!0,bodyClassName:"pt-2 md:pt-5",title:"انتخاب شهر",...o,children:(0,n.jsxs)("div",{className:"flex flex-col h-full space-y-3",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(R.Z,{className:"absolute top-[0.6rem] rtl:right-[0.6rem] ltr:left-[0.6rem] h-5 w-5"}),(0,n.jsx)(k.Z,{size:"small",placeholder:"جستجو در شهرها",onChange:e=>{q(),v(e.target.value)},value:u,className:"px-9"})]}),y&&(0,n.jsx)("div",{className:"md:hidden",children:(0,n.jsx)(j.Z,{block:!0,variant:"text",size:"sm",className:"text-right hover:bg-transparent px-0 justify-start",onClick:()=>{P("-1",!0)},icon:(0,n.jsx)(L,{}),children:"اطراف من"})}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,n.jsx)(j.Z,{onClick:()=>P("-1"),variant:"secondary",size:"sm",className:"!border-slate-300  !text-slate-700 font-medium",children:"همه شهرها"})}),(0,n.jsxs)("div",{ref:d,className:"flex flex-col h-full pb-32 overflow-auto no-scroll",children:[!u&&"cities"===p&&!a.provinceId&&(0,n.jsxs)("div",{className:"sticky top-0 z-10 flex items-center p-3 font-medium bg-white border-b border-solid cursor-pointer border-slate-100 hover:bg-slate-50 space-s-2 ",onClick:()=>{f("provinces"),q(),M(h.current.map(e=>({...e,isProvince:!0})))},children:[(0,n.jsx)(S.Z,{dir:"right"}),(0,n.jsx)(Z.Z,{fontWeight:"bold",children:"برگشت به لیست استان‌ها"})]}),u&&C.current.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.includes(u)}).map(e=>{var t,i;return(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 font-medium border-b border-solid cursor-pointer border-slate-100 hover:bg-slate-50",onClick:()=>P(e.id),children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(Z.Z,{children:null==e?void 0:e.name}),(0,n.jsx)(Z.Z,{fontSize:"xs",fontWeight:"light",children:null===(i=h.current)||void 0===i?void 0:null===(t=i.find(t=>t.id===e.province_id))||void 0===t?void 0:t.name})]}),(0,n.jsx)(S.Z,{dir:"left"})]},e.id)}),!u&&I.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 font-medium border-b border-solid cursor-pointer border-slate-100 hover:bg-slate-50",onClick:()=>e.isProvince?E(e.id):P(e.id),children:[(0,n.jsx)(Z.Z,{className:(0,x.Z)({"font-bold":"1"===e.is_capital}),children:null==e?void 0:e.name}),(0,n.jsx)(S.Z,{dir:"left"})]},e.id))]})]})})]})},M=i(43545),q=i(83212);let E=e=>{let{showBackButton:t,clickBackButton:i,clikSearchButton:r,onClear:l,className:o,...a}=e;return(0,n.jsxs)("div",{className:"flex items-center w-full h-12 px-1 md:h-14 space-s-1 md:space-s-2",children:[t?(0,n.jsx)(M.Z,{className:"w-6 h-6 cursor-pointer min-w-[1.5rem]",onClick:i}):(0,n.jsx)(R.Z,{className:"w-6 h-6 cursor-pointer min-w-[1.5rem]",onClick:r}),(0,n.jsx)("input",{className:(0,x.Z)("h-full w-full bg-transparent outline-none text-base appearance-none",o),...a,autoComplete:"off","data-hj-allow":!0,type:"search"}),a.value&&(0,n.jsx)(q.Z,{onClick:l,className:"cursor-pointer"})]})};var P=e=>{let{t}=(0,y.Z)("search"),{isOpenSuggestion:i,onClickSearchInput:r,onClickBackButton:l,onEnter:o,className:a,onChangeCity:s,...d}=e,c=(0,w.R)(e=>e.city),u=(0,w.R)(e=>e.userSearchValue),v=(0,w.R)(e=>e.setUserSearchValue),p=(0,g.Z)(e=>e.customize);return(0,n.jsxs)("div",{className:(0,x.Z)("w-full bg-white rounded-full border border-solid border-slate-200 py-1 px-3 pl-2 flex items-center transition-shadow space-s-1",a),children:[(0,n.jsx)(E,{placeholder:t("searchBarPlaceHolder"),onClick:r,onChange:e=>v(e.target.value),onClear:()=>v(""),value:u,showBackButton:i,clickBackButton:l,clikSearchButton:()=>o&&o(u),onKeyPress:e=>{var t;return"Enter"===e.key&&o&&o(null===(t=e.currentTarget)||void 0===t?void 0:t.value)},id:"suggestion-search-input",...d}),p.showSelectCityInSuggestion&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.Z,{orientation:"vertical",height:"2rem"}),(0,n.jsx)(I,{onChange:s,city:c},null==c?void 0:c.name)]})]})},A=i(31981),H=i(40020),F=i(95144),W=i(29337),K=i(13650);let O=v()(()=>i.e(6166).then(i.bind(i,96166)),{loadableGenerated:{webpack:()=>[96166]}}),T=e=>{var t;let{overlay:i=!1,defaultOpen:d=!1,autoFocus:u,defaultInputValue:v,setDefaultInputValue:C,showPlasmicSuggestion:g}=e,y=(0,p.useRouter)(),{selectedFilters:b}=(0,W.R)(),j=(0,w.R)(e=>e.isOpenSuggestion),_=(0,w.R)(e=>e.setIsOpenSuggestion),Z=(0,w.R)(e=>e.setGeoLocation),{isMobile:k}=(0,o.Z)(),S=(0,w.R)(e=>e.userSearchValue),L=(0,w.R)(e=>e.setUserSearchValue),N=(0,w.R)(e=>e.city),R=(0,w.R)(e=>e.setCity),{changeRoute:z}=(0,H.y)(),[B,I]=(0,m.useState)(null!=S?S:"");(0,f.Z)(()=>{I(S)},350,[S]);let M=(0,r.y)({query:B,...(null==N?void 0:N.id)!=="-1"&&{city_id:null==N?void 0:N.id}},{keepPreviousData:!0}),[q,E]=(0,m.useState)(!1),T=(0,m.useRef)(null);(0,h.Z)(T,()=>!k&&!i&&U());let U=()=>{_(!1),G(),V()},{neutralizeBack:D,removeBack:V}=(0,a.Z)({handleClose:U}),{lockScroll:J,openScroll:G}=(0,l.Z)(),Q=()=>{U(),L("")};(0,m.useEffect)(()=>{d&&_(!0);try{let e=JSON.parse((0,s.getCookie)("new-city"));e&&R({...e})}catch(e){return}},[]);let $=(0,m.useCallback)(c()(e=>{let{item:t,cityName:i,userSearchValue:n}=e;A.Z.view({cityName:i,item:t,userSearchValue:n})},2e3),[]);(0,m.useEffect)(()=>{E(!0)},[S,N]);let X=e=>{U(),z({params:{...(null==N?void 0:N.id)!=="-1"&&{city:null==N?void 0:N.en_slug}},query:{text:e}})};(0,m.useEffect)(()=>{M.data&&j&&(E(!1),S&&$({item:M.data,cityName:N.name,userSearchValue:S}))},[M.data,j]);let Y=e=>{if(R({...e}),e.is_aroundme){navigator.geolocation.getCurrentPosition(t=>{let i=t.coords.latitude,n=t.coords.longitude;Z({lat:i,lon:n}),y.pathname.startsWith("/s/")&&z({params:{city:"ir"},query:{...y.query.city_id&&{city_id:e.id},lat:i,lon:n}})});return}Z(void 0),y.pathname.startsWith("/s/")&&z({params:{city:e.en_slug},query:{...y.query.city_id&&{city_id:e.id}},previousQueries:!1})};return g?(0,n.jsx)("div",{className:"w-full py-2 px-2 md:px-0 lg:w-[50rem]",children:(0,n.jsx)(K.Z,{children:(0,n.jsx)(F.H,{name:"SearchInput",props:{onClickCity:e=>{Y({...e})},selectedCity:N,defaultValue:v||(null==b?void 0:b.text)||"",onClickOverlay:()=>{C&&v&&C(""),_(!1)},inputVal:B,onChangeInputVal:L,onFocusChange:e=>_(e)},variants:{hasOverlay:i,isFocus:j}})})}):(0,n.jsxs)("div",{className:"w-full py-2 px-2 md:px-0 lg:w-[50rem] relative",ref:T,children:[j&&i&&(0,n.jsx)("div",{className:"fixed top-0 bottom-0 left-0 right-0 z-infinity bg-slate-900 bg-opacity-60",id:"modal",onClick:U}),(0,n.jsx)(P,{isOpenSuggestion:j,onClickSearchInput:()=>{j||((k||i)&&(D(),J()),_(!0),A.Z.open({cityName:N.name}))},onClickBackButton:Q,onChangeCity:Y,onEnter:X,className:{"md:rounded-br-none md:rounded-bl-none md:rounded-tr-3xl md:rounded-tl-3xl z-infinity relative":j,"hover:md:shadow-lg":!j},readOnly:k,autoFocus:u}),j&&(0,n.jsx)(O,{searchInput:k?(0,n.jsx)(P,{onEnter:X,isOpenSuggestion:j,onClickBackButton:Q,onChangeCity:Y,className:"!border-primary",autoFocus:!0}):void 0,items:null!==(t=M.data)&&void 0!==t?t:[],className:(0,x.Z)("border border-solid shadow-md border-slate-200",{"md:h-[calc(100vh_-_180px)]":!!i,"md:h-[calc(100vh_-_430px)]":!i}),isLoading:q})]})};var U=T}}]);